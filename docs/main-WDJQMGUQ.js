import{a as et,c as u,e as at,f as nt,h as ot,i as ct,j as rt,p as st}from"./chunk-2GU4EP4O.js";import{A as l,B as x,Ea as K,F as A,G as z,Ma as G,Oa as X,Pa as W,Q as g,Qa as Y,Sa as J,Ta as tt,Va as it,a as h,b,c as N,d as V,da as q,e as L,ea as Z,f as S,fa as o,ga as r,ha as T,i as f,ia as D,ja as k,ka as E,m as Q,o as B,p as H,ra as s,t as U,ta as P,v as $,w as v,z as p,za as m}from"./chunk-65ATGPRR.js";var lt=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=x({type:i})}static{this.\u0275inj=v({imports:[u,u]})}}return i})();var mt=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=x({type:i})}static{this.\u0275inj=v({imports:[et,G,u,at,nt,lt]})}}return i})();function Ct(...i){let t={config:{},state:{}};for(let{config:e,props:a}of i)Object.assign(t.config,e),Object.assign(t.state,a);return t}var ht=new S(!1),It=ht.asObservable().pipe(Q(i=>!i),B(1));var d={},F=class{registerPreStoreUpdate(t){d.preStoreUpdate=t}registerPreStateInit(t){d.preStateInit=t}},vi=new F,pt=new Map,j=new L,xi=j.asObservable();function Mt(i){pt.set(i.name,i),j.next({type:"add",store:i})}function Ot(i){pt.delete(i.name),j.next({type:"remove",store:i})}var y=[];function Lt(i){y.push(i)}function dt(i){y.length&&y.forEach(t=>i.next(t)),y=[]}var R=class extends S{constructor(t){super(t.state),this.storeDef=t,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new L,this.context={config:this.getConfig(),setEvent:e=>{Lt(e)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(t.state),this.initialState=this.getValue(),Mt(this)}get name(){return this.storeDef.name}getInitialState(t){return d.preStateInit?d.preStateInit(t,this.name):t}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){let e=this.getValue(),a=t.reduce((n,c)=>(n=c(n,this.context),n),e);d.preStoreUpdate&&(a=d.preStoreUpdate(e,a,this.name)),a!==e&&(this.state=a,ht.getValue()?this.batchInProgress||(this.batchInProgress=!0,It.subscribe(()=>{super.next(this.state),dt(this.events),this.batchInProgress=!1})):(super.next(this.state),dt(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let e=!0,a={};return new V(n=>{for(let[c,xt]of Object.entries(t))n.add(xt.subscribe(kt=>{a[c]=kt,e=!0}));return this.subscribe({next(){e&&(n.next(h({},a)),e=!1)},error(c){n.error(c)},complete(){n.complete()}})})}destroy(){Ot(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}};function gt(i,...t){let{state:e,config:a}=Ct(...t),{name:n}=i;return new R({name:n,state:e,config:a})}function St(i){return typeof i=="function"}function ut(i,t){return function(e){return b(h({},e),{[i]:St(t)?t(e[i]):t})}}function _t(i){return N(f(i),H())}function bt(i){return{props:i,config:void 0}}var _={production:!1,categoriesUrl:"https://opentdb.com/api_category.php",categoryUrl:"https://opentdb.com/api.php",numberOfQuizCategories:10,minNumberOfQuizCategories:5,maxNumberOfQuizCategories:10};var C=gt({name:"categories"},bt({categories:[]}));var I=class i{categoriesUrl=_.categoriesUrl;http=p(X);categoriesNumber=_.numberOfQuizCategories;minNumberQuestions=_.minNumberOfQuizCategories;maxNumberQuestions=_.maxNumberOfQuizCategories;getRandomCategories(t=this.categoriesNumber){return this.http.get(this.categoriesUrl).pipe(f(e=>this.getRandomItems(e.trivia_categories,t).map(a=>b(h({},a),{numberOfQuestions:this.getRandomInt(this.minNumberQuestions,this.maxNumberQuestions)}))),U(e=>{C.update(ut("categories",e))}))}getRandomItems(t,e){return t.sort(()=>.5-Math.random()).slice(0,e)}getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var zt=(i,t)=>t.id;function Tt(i,t){if(i&1){let e=D();o(0,"li",1)(1,"span",4),s(2),o(3,"div",5),s(4),r()(),o(5,"button",6),k("click",function(){let n=A(e).$implicit,c=E();return z(c.goToPlay(n.id,n.numberOfQuestions))}),s(6," Play "),r()()}if(i&2){let e=t.$implicit;g(2),P("",e.name," "),g(2),P(" The quiz consists of ",e.numberOfQuestions," questions ")}}var M=class i{categories$;categories=[];categoriesService=p(I);router=p(tt);ngOnInit(){this.categories$=C.pipe(_t(t=>t.categories)),this.categories$.subscribe(t=>{t.length===0?this.loadCategories():this.categories=t})}loadCategories(){this.categoriesService.getRandomCategories().subscribe({next:t=>this.categories=t,error:t=>{console.error("Error fetching categories",t)}})}goToPlay(t,e){this.router.navigate(["play",t,e])}playLucky(){let t=this.categories[this.categoriesService.getRandomInt(0,this.categories.length-1)];this.goToPlay(t.id,t.numberOfQuestions)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=l({type:i,selectors:[["app-home"]],standalone:!0,features:[m],decls:10,vars:0,consts:[[1,"card-wrapper"],[1,"listItem"],[1,"lucky-button-text"],[1,"lucky-button",3,"click"],[1,"category-name"],[1,"quiz-description"],["mat-raised-button","",1,"play-button",3,"click"]],template:function(e,a){e&1&&(o(0,"mat-card",0)(1,"h2"),s(2,"List of quizzes"),r(),o(3,"ol"),q(4,Tt,7,2,"li",1,zt),r(),o(6,"span",2),s(7," Choose random quiz: "),o(8,"button",3),k("click",function(){return a.playLucky()}),s(9,"I'm lucky"),r()()()),e&2&&(g(4),Z(a.categories))},dependencies:[st,rt,ct,ot,mt],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{background-color:#000;color:#e183a5;margin:20px;font-size:clamp(1.5rem,5vw,3rem)}ol[_ngcontent-%COMP%]{max-width:90vw;width:75vw;list-style-type:none;padding:0;background-color:#000}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;margin-bottom:10px;background-color:#000;border-radius:8px;border-bottom:2px solid rgba(255,255,255,.685)}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#fff;font-size:x-large;font-weight:400}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .quiz-description[_ngcontent-%COMP%]{font-size:x-small;color:#e183a5}button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e183a5,#ffa726);border:none;padding:8px 16px;border-radius:5px;cursor:pointer;transition:background .3s}button[_ngcontent-%COMP%]:hover{background:linear-gradient(-45deg,#e183a5,#fb8c00);transform:scale(1.1)}.mat-card[_ngcontent-%COMP%]{background-color:#000;border-radius:10px;padding:15px;margin:15px}.mat-card[_ngcontent-%COMP%]   button.mat-raised-button[_ngcontent-%COMP%]{margin-top:10px}.card-wrapper[_ngcontent-%COMP%]{background-color:#000;display:flex;flex-direction:column;align-items:center}.lucky-button-text[_ngcontent-%COMP%], .lucky-button[_ngcontent-%COMP%]{font-size:x-large;color:#f0f8ff;margin-bottom:10px;border-bottom:2px solid rgba(255,255,255,.685)}"]})};var ft=[{path:"",title:"Home Page",component:M},{path:"play/:id/:numberOfQuestions",title:"Play",loadComponent:()=>import("./chunk-POR6UJZX.js").then(i=>i.PlayComponent)},{path:"finish",title:"Finish",loadComponent:()=>import("./chunk-YKGBCPZY.js").then(i=>i.FinishComponent)}];var vt={providers:[K({eventCoalescing:!0}),it(ft),W()]};var O=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=l({type:i,selectors:[["app-root"]],standalone:!0,features:[m],decls:1,vars:0,template:function(e,a){e&1&&T(0,"router-outlet")},dependencies:[J],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]})};Y(O,vt).catch(i=>console.error(i));
