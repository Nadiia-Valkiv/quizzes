import{a as et,c as _,e as at,f as nt,h as ot,i as ct,j as rt,p as st}from"./chunk-2GU4EP4O.js";import{A as l,B as v,Ea as K,F as L,G as S,Ma as G,Oa as X,Pa as W,Q as g,Qa as Y,Sa as J,Ta as tt,Va as it,a as h,b as u,c as V,d as B,da as q,e as M,ea as Z,f as O,fa as o,ga as r,ha as A,i as b,ia as z,ja as T,ka as D,m as N,o as Q,p as U,ra as s,t as H,ta as E,v as $,w as f,z as p,za as m}from"./chunk-65ATGPRR.js";var lt=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=f({imports:[_,_]})}}return t})();var mt=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=f({imports:[et,G,_,at,nt,lt]})}}return t})();function Ct(...t){let i={config:{},state:{}};for(let{config:e,props:a}of t)Object.assign(i.config,e),Object.assign(i.state,a);return i}var ht=new O(!1),It=ht.asObservable().pipe(N(t=>!t),Q(1));var d={},P=class{registerPreStoreUpdate(i){d.preStoreUpdate=i}registerPreStateInit(i){d.preStateInit=i}},vi=new P,pt=new Map,R=new M,xi=R.asObservable();function Mt(t){pt.set(t.name,t),R.next({type:"add",store:t})}function Ot(t){pt.delete(t.name),R.next({type:"remove",store:t})}var w=[];function Lt(t){w.push(t)}function dt(t){w.length&&w.forEach(i=>t.next(i)),w=[]}var F=class extends O{constructor(i){super(i.state),this.storeDef=i,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new M,this.context={config:this.getConfig(),setEvent:e=>{Lt(e)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(i.state),this.initialState=this.getValue(),Mt(this)}get name(){return this.storeDef.name}getInitialState(i){return d.preStateInit?d.preStateInit(i,this.name):i}getConfig(){return this.storeDef.config}query(i){return i(this.getValue())}update(...i){let e=this.getValue(),a=i.reduce((n,c)=>(n=c(n,this.context),n),e);d.preStoreUpdate&&(a=d.preStoreUpdate(e,a,this.name)),a!==e&&(this.state=a,ht.getValue()?this.batchInProgress||(this.batchInProgress=!0,It.subscribe(()=>{super.next(this.state),dt(this.events),this.batchInProgress=!1})):(super.next(this.state),dt(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(i){let e=!0,a={};return new B(n=>{for(let[c,xt]of Object.entries(i))n.add(xt.subscribe(wt=>{a[c]=wt,e=!0}));return this.subscribe({next(){e&&(n.next(h({},a)),e=!1)},error(c){n.error(c)},complete(){n.complete()}})})}destroy(){Ot(this),this.reset()}next(i){this.update(()=>i)}error(){}complete(){}};function gt(t,...i){let{state:e,config:a}=Ct(...i),{name:n}=t;return new F({name:n,state:e,config:a})}function St(t){return typeof t=="function"}function _t(t,i){return function(e){return u(h({},e),{[t]:St(i)?i(e[t]):i})}}function ut(t){return V(b(t),U())}function bt(t){return{props:t,config:void 0}}var j={production:!1,categoriesUrl:"https://opentdb.com/api_category.php",categoryUrl:"https://opentdb.com/api.php",numberOfQuizCategories:10};var k=gt({name:"categories"},bt({categories:[]}));var y=class t{categoriesUrl=j.categoriesUrl;http=p(X);categoriesNumber=j.numberOfQuizCategories;getRandomCategories(i=this.categoriesNumber){return this.http.get(this.categoriesUrl).pipe(b(e=>this.getRandomItems(e.trivia_categories,i).map(a=>u(h({},a),{numberOfQuestions:this.getRandomInt(5,10)}))),H(e=>{k.update(_t("categories",e))}))}getRandomItems(i,e){return i.sort(()=>.5-Math.random()).slice(0,e)}getRandomInt(i,e){return Math.floor(Math.random()*(e-i+1))+i}static \u0275fac=function(e){return new(e||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var zt=(t,i)=>i.id;function Tt(t,i){if(t&1){let e=z();o(0,"li",1)(1,"span",4),s(2),o(3,"div",5),s(4),r()(),o(5,"button",6),T("click",function(){let n=L(e).$implicit,c=D();return S(c.goToPlay(n.id,n.numberOfQuestions))}),s(6," Play "),r()()}if(t&2){let e=i.$implicit;g(2),E("",e.name," "),g(2),E(" The quiz consists of ",e.numberOfQuestions," questions ")}}var C=class t{categories$;categories=[];categoriesService=p(y);router=p(tt);ngOnInit(){this.categories$=k.pipe(ut(i=>i.categories)),this.categories$.subscribe(i=>{i.length===0?this.loadCategories():this.categories=i})}loadCategories(){this.categoriesService.getRandomCategories().subscribe({next:i=>this.categories=i,error:i=>{console.error("Error fetching categories",i)}})}goToPlay(i,e){this.router.navigate(["play",i,e])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-home"]],standalone:!0,features:[m],decls:10,vars:0,consts:[[1,"card-wrapper"],[1,"listItem"],[1,"lucky-button-text"],[1,"lucky-button"],[1,"category-name"],[1,"quiz-description"],["mat-raised-button","",1,"play-button",3,"click"]],template:function(e,a){e&1&&(o(0,"mat-card",0)(1,"h2"),s(2,"List of quizzes"),r(),o(3,"ol"),q(4,Tt,7,2,"li",1,zt),r(),o(6,"span",2),s(7," Choose random quiz: "),o(8,"button",3),s(9,"I'm lucky"),r()()()),e&2&&(g(4),Z(a.categories))},dependencies:[st,rt,ct,ot,mt],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{background-color:#000;color:#e183a5;margin:20px;font-size:clamp(1.5rem,5vw,3rem)}ol[_ngcontent-%COMP%]{max-width:90vw;width:75vw;list-style-type:none;padding:0;background-color:#000}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;margin-bottom:10px;background-color:#000;border-radius:8px;border-bottom:2px solid rgba(255,255,255,.685)}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#fff;font-size:x-large;font-weight:400}ol[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .quiz-description[_ngcontent-%COMP%]{font-size:x-small;color:#e183a5}button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e183a5,#ffa726);border:none;padding:8px 16px;border-radius:5px;cursor:pointer;transition:background .3s}button[_ngcontent-%COMP%]:hover{background:linear-gradient(-45deg,#e183a5,#fb8c00);transform:scale(1.1)}.mat-card[_ngcontent-%COMP%]{background-color:#000;border-radius:10px;padding:15px;margin:15px}.mat-card[_ngcontent-%COMP%]   button.mat-raised-button[_ngcontent-%COMP%]{margin-top:10px}.card-wrapper[_ngcontent-%COMP%]{background-color:#000;display:flex;flex-direction:column;align-items:center}.lucky-button-text[_ngcontent-%COMP%], .lucky-button[_ngcontent-%COMP%]{font-size:x-large;color:#f0f8ff;margin-bottom:10px;border-bottom:2px solid rgba(255,255,255,.685)}"]})};var ft=[{path:"",title:"Home Page",component:C},{path:"play/:id/:numberOfQuestions",title:"Play",loadComponent:()=>import("./chunk-POR6UJZX.js").then(t=>t.PlayComponent)},{path:"finish",title:"Finish",loadComponent:()=>import("./chunk-YKGBCPZY.js").then(t=>t.FinishComponent)}];var vt={providers:[K({eventCoalescing:!0}),it(ft),W()]};var I=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-root"]],standalone:!0,features:[m],decls:1,vars:0,template:function(e,a){e&1&&A(0,"router-outlet")},dependencies:[J],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]})};Y(I,vt).catch(t=>console.error(t));
